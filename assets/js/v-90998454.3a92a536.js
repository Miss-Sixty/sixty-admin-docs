(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[498],{1967:(a,n,s)=>{"use strict";s.r(n),s.d(n,{data:()=>t});const t={key:"v-90998454",path:"/guide/directive.html",title:"Vue 指令",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"permission 权限指令",slug:"permission-权限指令",children:[{level:3,title:"使用方法",slug:"使用方法",children:[]}]},{level:2,title:"loading",slug:"loading",children:[{level:3,title:"使用方法",slug:"使用方法-1",children:[]}]}],filePathRelative:"guide/directive.md",git:{updatedTime:1627266168e3,contributors:[{name:"xihe",email:"zhangxihe@bornmega.com",commits:1}]}}},418:(a,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>p});const t=(0,s(6252).uE)('<h1 id="vue-指令" tabindex="-1"><a class="header-anchor" href="#vue-指令" aria-hidden="true">#</a> Vue 指令</h1><p>目前项目中用到了 2 个指令，一个是用来判断权限的指令 permission ，另一个是页面加载中指令 loading</p><h2 id="permission-权限指令" tabindex="-1"><a class="header-anchor" href="#permission-权限指令" aria-hidden="true">#</a> permission 权限指令</h2><div class="custom-container warning"><p class="custom-container-title">导航栏接口数据</p><p>因为权限指令精细到了按钮，所以页面大面积使用 permission 权限指令，各个页面和按钮都经历了一次大改。300+接口无法避免会出现未预知的错误，这个需要在使用中逐渐去完善修改。</p></div><h3 id="使用方法" tabindex="-1"><a class="header-anchor" href="#使用方法" aria-hidden="true">#</a> 使用方法</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 按钮 --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>\n  <span class="token attr-name">v-permission</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>deliveryOrder@detail<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>small<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showModel(<span class="token punctuation">&#39;</span>lookInfo<span class="token punctuation">&#39;</span>, row)<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>md-eye<span class="token punctuation">&quot;</span></span>\n<span class="token punctuation">/&gt;</span></span>\n\n<span class="token comment">&lt;!-- toolsBar 添加按钮 --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tools-bar</span> <span class="token attr-name">addPermission</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beautician@create<span class="token punctuation">&quot;</span></span> <span class="token attr-name">add</span> <span class="token attr-name">@add-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showModel(<span class="token punctuation">&#39;</span>addOrEdit<span class="token punctuation">&#39;</span>)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n\n<span class="token comment">&lt;!-- 表格 switch --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table-switch</span>\n  <span class="token attr-name">permission</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beautician@updateStatus<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ row }<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">@resetList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getListData<span class="token punctuation">&quot;</span></span>\n  <span class="token attr-name">:api</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beauticiansStatus<span class="token punctuation">&quot;</span></span>\n<span class="token punctuation">/&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="loading" tabindex="-1"><a class="header-anchor" href="#loading" aria-hidden="true">#</a> loading</h2><div class="custom-container warning"><p class="custom-container-title">注意事项</p><p>因 iview-ui 的代码结构原因，有些地方无法使用此指令 如：Modal、Drawer 这种第一层 html 不承载显示内容的组件。</p></div><h3 id="使用方法-1" tabindex="-1"><a class="header-anchor" href="#使用方法-1" aria-hidden="true">#</a> 使用方法</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 开启loading --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>显示内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token comment">&lt;!-- 显示loading文字 --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loading-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>数据加载中...<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>显示内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>',10),p={render:function(a,n){return t}}}}]);